// CIS 22B
// Lab 02...
// Name: Joshua Bowen, Rashmi Baheti

#include <iostream>
using namespace std;

int stringLength(const char * str);
char * stringNCopy(char * destination, const char * source, int num);
char * stringAdd(char * str1, const char * str2);
int stringCompare(const char * str1, const char * str2);

int main()
{
  int choice;
  bool menu = true;
  char choice_str[20];

  while (menu == true)
  {
    cout << "Please enter numbers 1 through 5." << endl;
    cout << "1. Calculate the length of a string" << endl;
    cout << "2. Copy one string into another string" << endl;
    cout << "3. Add two strings " << endl;
    cout << "4. Compare two strings" << endl;
    cout << "5. Exit." << endl << endl;

    cin.getline(choice_str, 10);
    if (strlen(choice_str) != 1 || !isdigit(choice_str[0]))
    {
      choice = 6;
    }
    else
    {
      choice = atoi(choice_str);
    }


    switch (choice)
    {
    case 1:
    {
      char str[100];
      cout << "Please enter your string : ";
      cin.getline(str, 100);
      cout << "The length of your string is: " << stringLength(str) << endl;
      cout << endl;
      break;
    }
    case 2:
    {
      char destination[100], source[100];
      int num;
      cout << "Please enter your string to be copied: ";
      cin.getline(source, 100);
      cout << "Please enter the max number of characters to be copied: ";
      cin >> num;
      cout << "The copied string is: " << stringNCopy(destination, source, num) << endl << endl;
      break;
    }

    case 3:
    {
      char str1[100];
      char str2[100];
      cout << "Please enter your first string: ";
      cin.getline(str1, 100);

      cout << "Please enter your second string: ";
      cin.getline(str2, 100);

      cout << "The concatenated string is: " << stringAdd(str1, str2);
      cout << endl << endl;

      break;
    }
    case 4:
    {
      char str1[100];
      char str2[100];
      cout << "Please enter your first string: ";
      cin.getline(str1, 100);

      cout << "Please enter your second string: ";
      cin.getline(str2, 100);

      int value = stringCompare(str1, str2);
      if (value == 1)
        cout << "String 1 is greater than string 2" << endl << endl;
      else if (value == -1)
        cout << "String 2 is greater than string 1" << endl << endl;
      else
        cout << "Both strings are equal" << endl << endl;

      break;
    }
    case 5:
    {
      menu = false;
      cout << "Good Bye!";
      break;
    }
    default:
    {
      cout << "Invalid entry. Please try again!" << endl << endl;
      break;
    }
    }
  }
  cin.get();
  cin.get();

  return 0;
}


int stringLength(const char * str)
{
  int i = 0;
  while (*(str + i) != NULL)
  {
    i++;
  }
  return i;
}

char * stringNCopy(char* destination, const char* source, int num)
{
  int i = 0;
  while (i < num && (*(source + i) != NULL))
  {
    *(destination + i) = *(source + i);
    i++;
  }

  *(destination + i) = NULL;
  return destination;
}

char * stringAdd(char *destination, const char *source)
{
  int source_size = stringLength(source);
  int destination_size = stringLength(destination);
  for (int i = 0; i < source_size; i++)
  {
    *(destination + destination_size + i) = *(source + i);
  }

  *(destination + source_size + destination_size) = NULL;

  return destination;
}

int stringCompare(const char * str1, const char * str2)
{
  int i = 0, value;

  while (*(str1 + i) != NULL && *(str2 + i) != NULL)
  {
    if (*(str1 + i) > *(str2 + i))
      return 1;

    else if (*(str1 + i) < *(str2 + i))
      return -1;

    i++;
  }

  if (*(str1 + i) == NULL && *(str2 + i) == NULL)
    return 0;
  else if (*(str1 + i) == NULL)
    return -1;
  else
    return 1;
}